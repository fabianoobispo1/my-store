# ==========================================
# Docker Compose - Variáveis de Ambiente
# ==========================================
# 
# Este arquivo contém todas as variáveis configuráveis para o projeto.
# Copie este arquivo para .env e ajuste os valores conforme necessário.
#
# IMPORTANTE: Nunca commite o arquivo .env no git!
#

# ==========================================
# PostgreSQL Database
# ==========================================
POSTGRES_USER=medusa
POSTGRES_PASSWORD=medusa_password_change_me
POSTGRES_DB=medusa
POSTGRES_PORT=5432

# ==========================================
# Redis
# ==========================================
REDIS_PORT=6379

# ==========================================
# MinIO (S3-compatible Storage)
# ==========================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin_change_me
MINIO_BUCKET=medusa-media
MINIO_PORT=9010
MINIO_CONSOLE_PORT=9011

# URL público do MinIO (usado para acessar imagens)
# Em produção, altere para seu domínio: https://minio.seudominio.com
# MINIO_PUBLIC_URL=http://localhost:9010

# ==========================================
# MeiliSearch (Search Engine)
# ==========================================
MEILISEARCH_MASTER_KEY=masterKey_change_me
MEILI_ENV=production
MEILISEARCH_PORT=7700

# ==========================================
# MedusaJS Backend
# ==========================================
BACKEND_PORT=9000

# Security - ALTERE ESTES VALORES EM PRODUÇÃO!
JWT_SECRET=supersecret_change_me_in_production
COOKIE_SECRET=supersecret_change_me_in_production

# Admin User - Primeiro usuário criado no sistema
MEDUSA_ADMIN_EMAIL=admin@seudominio.com
MEDUSA_ADMIN_PASSWORD=admin_password_change_me

# CORS - Adicione seus domínios aqui
# Em desenvolvimento: http://localhost:9000,http://localhost:7000
# Em produção: https://admin.seudominio.com,https://seudominio.com
ADMIN_CORS=http://localhost:9000,http://localhost:7000,http://localhost:7001
STORE_CORS=http://localhost:8000
AUTH_CORS=http://localhost:9000,http://localhost:7000,http://localhost:7001

# ==========================================
# Payment Providers (Opcional)
# ==========================================
# Stripe
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# ==========================================
# Email Providers (Opcional - escolha um)
# ==========================================
# SendGrid
SENDGRID_API_KEY=
SENDGRID_FROM=noreply@seudominio.com

# Resend
RESEND_API_KEY=

# ==========================================
# Next.js Storefront
# ==========================================
STOREFRONT_PORT=8000

# URL do Backend
# Em desenvolvimento: http://localhost:9000
# Em produção: https://api.seudominio.com
NEXT_PUBLIC_MEDUSA_BACKEND_URL=http://localhost:9000

# Publishable Key - Obtenha no Admin Dashboard em Settings > Publishable API Keys
# CRÍTICO: Este valor é necessário para o storefront funcionar!
NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=

# Região padrão (us, eu, etc)
NEXT_PUBLIC_DEFAULT_REGION=us

# URL Base do Storefront
# Em desenvolvimento: http://localhost:8000
# Em produção: https://seudominio.com
NEXT_PUBLIC_BASE_URL=http://localhost:8000

# Search Configuration (MeiliSearch)
# Em desenvolvimento: http://localhost:7700
# Em produção: https://search.seudominio.com
NEXT_PUBLIC_SEARCH_ENDPOINT=http://localhost:7700
NEXT_PUBLIC_SEARCH_API_KEY=
NEXT_PUBLIC_INDEX_NAME=products

# ==========================================
# NOTAS DE CONFIGURAÇÃO
# ==========================================
#
# 1. PRIMEIRA VEZ:
#    - Copie este arquivo: cp .env.example .env
#    - Altere as senhas e secrets
#    - Obtenha o NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY:
#      a) Inicie apenas o backend: docker compose up -d postgres redis minio meilisearch backend
#      b) Acesse http://localhost:9000/app
#      c) Faça login com MEDUSA_ADMIN_EMAIL e MEDUSA_ADMIN_PASSWORD
#      d) Vá em Settings > Publishable API Keys
#      e) Copie a chave e cole em NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY
#      f) Pare e inicie tudo: docker compose down && docker compose up -d
#
# 2. PRODUÇÃO:
#    - Altere TODOS os valores com _change_me
#    - Configure domínios reais nas variáveis *_URL e *_CORS
#    - Use HTTPS em produção
#    - Configure certificados SSL (recomendado: Traefik ou Nginx Proxy Manager)
#    - Considere usar secrets do Docker Swarm/Kubernetes
#
# 3. PORTAS:
#    - Backend Admin: http://localhost:9000/app
#    - Storefront: http://localhost:8000
#    - MinIO Console: http://localhost:9011
#    - MeiliSearch: http://localhost:7700
#
# 4. VOLUMES:
#    - Todos os dados são persistidos em volumes Docker
#    - Para backup: docker volume ls
#    - Para remover tudo: docker compose down -v (CUIDADO: apaga dados!)
#
