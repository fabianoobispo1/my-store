import{u as _,a as h}from"./chunk-7R743WZ6-CWNnhtfF.js";import{C as T,c as x,o as E}from"./chunk-VX2HE7O5-CzaoPftx.js";import{a as A,j as s,b as f,d as j,db as b,C,H as O,x as v,n as S,r as D,k as L}from"./index-COdTnWJD.js";import{u as k,_ as w}from"./chunk-YTN73JYH-CUJ2QIAI.js";import"./chunk-GU5PJRPM-Du_6H0D9.js";import{S as F}from"./chunk-GIZFNLKK-yZY4MngQ.js";import"./chunk-C76H5USB-B0s8aZMb.js";import"./chunk-WG7UTTKY-DCfiIrWt.js";import"./chunk-INE2QCSC-CsEPcPKG.js";import"./chunk-X6BAAGCL-Cmzs-01s.js";import"./chunk-DK4WIVY6-CYCbBMOO.js";import"./chunk-P3UUX2T6-K6AGHv25.js";import"./chunk-ROKB75YP-s4YDTFQX.js";import"./chunk-DZWH2RV6-Db7ViQ77.js";import"./chunk-NTEWUH4C-Zwbwn2Hl.js";import"./chunk-ADOCJB6L-BM3WkecS.js";import"./react-country-flag.esm-C2bcBTj9.js";import"./chunk-XLDQPLK4-n9r40qsa.js";import"./chunk-IQBAUTU5-AOiqNbyY.js";import"./chunk-KCWP7RF5-Dd8VCV_8.js";import"./chunk-HQKGZADC-CAHP7YxT.js";import"./chunk-EMIHDNB7-LC-ycJ86.js";import"./index-C_3Mvj6f.js";import"./Trans-BZWDSPrC.js";var g=()=>{const{t:e}=f(),{regions:t}=v({limit:1e3,fields:"id,name"}),{sales_channels:r}=S({limit:1e3,fields:"id,name"});return D.useMemo(()=>{const i=[{key:"created_at",label:e("fields.createdAt"),type:"date"},{key:"updated_at",label:e("fields.updatedAt"),type:"date"}];return t!=null&&t.length&&i.push({key:"region_id",label:e("fields.region"),type:"select",multiple:!0,searchable:!0,options:t.map(a=>({label:a.name,value:a.id}))}),r!=null&&r.length&&i.push({key:"sales_channel_id",label:e("fields.salesChannel"),type:"select",multiple:!0,searchable:!0,options:r.map(a=>({label:a.name,value:a.id}))}),i},[t,r,e])};function P(){return x({entity:"orders",queryPrefix:"o",pageSize:20,columnAdapter:E,useData:(e,t)=>{const{orders:r,count:i,isError:a,error:n,isLoading:u}=b({fields:e,...t},{placeholderData:(m,o)=>{var l,p;const d=(p=(l=o==null?void 0:o[o.length-1])==null?void 0:l.query)==null?void 0:p.fields;if(!(d&&d!==e))return m}});return{data:r,count:i,isLoading:u,isError:a,error:n}},getRowHref:e=>`/orders/${e.id}`,emptyState:{empty:{heading:"No orders found"}}})}function R(){const e=g();return{...P(),filters:e}}var I=()=>{const{t:e}=f(),t=R();return s.jsx(T,{adapter:t,heading:e("orders.domain"),layout:"fill"})},z=["id","status","created_at","email","display_id","custom_display_id","payment_status","fulfillment_status","total","currency_code"],N=["*customer","*sales_channel","*payment_collections"],$=`${z.join(",")},${N.join(",")}`,c=20,q=()=>{const{t:e}=f();if(j("view_configurations"))return s.jsx(I,{});const{searchParams:r,raw:i}=_({pageSize:c}),{orders:a,count:n,isError:u,error:m,isLoading:o}=b({fields:$,...r},{placeholderData:L}),d=g(),l=h({}),{table:p}=k({data:a??[],columns:l,enablePagination:!0,count:n,pageSize:c});if(u)throw m;return s.jsxs(C,{className:"divide-y p-0",children:[s.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:s.jsx(O,{children:e("orders.domain")})}),s.jsx(w,{columns:l,table:p,pagination:!0,navigateTo:y=>`/orders/${y.original.id}`,filters:d,count:n,search:!0,isLoading:o,pageSize:c,orderBy:[{key:"display_id",label:e("orders.fields.displayId")},{key:"created_at",label:e("fields.createdAt")},{key:"updated_at",label:e("fields.updatedAt")}],queryObject:i,noRecords:{message:e("orders.list.noRecordsMessage")}})]})},ue=()=>{const{getWidgets:e}=A();return s.jsx(F,{widgets:{after:e("order.list.after"),before:e("order.list.before")},hasOutlet:!1,children:s.jsx(q,{})})};export{ue as Component};
